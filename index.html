<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Sandbox Wiring</title>

<!-- Font -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;600;700&display=swap" rel="stylesheet">

<link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="watermark">Made by eren</div>

<div class="app">
  <div class="toolbar" role="toolbar" aria-label="Main toolbar">
    <button id="btn-new">New</button>
    <button id="btn-save">Save</button>
    <label for="file-load" class="btn-like">
      <input id="file-load" type="file" accept="application/json" hidden>
      ⤓ Load
    </label>
    <button id="btn-undo">Undo</button>
    <button id="btn-redo">Redo</button>
    <div class="spacer">Zoom: <span id="zoom-label">100%</span></div>
  </div>

  <aside class="toolbox" aria-label="Toolbox" tabindex="0">
    <h3>Components</h3>

    <div class="tool-item" draggable="true" data-component="PowerSupply">
      <svg class="tool-icon" viewBox="0 0 24 24" aria-hidden="true"><g fill="none" stroke="#111" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="6" width="10" height="12" rx="2"/><path d="M13 9h4M13 15h4M17 9v6M19 12h2"/></g></svg>
      <span>Power Supply</span>
    </div>

    <div class="tool-item" draggable="true" data-component="Motherboard">
      <svg class="tool-icon" viewBox="0 0 24 24" aria-hidden="true"><g fill="none" stroke="#111" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="5" width="18" height="14" rx="2"/><rect x="7" y="9" width="6" height="6"/><path d="M17 8v2M17 12v4M5 8h2M5 12h2M5 16h2"/></g></svg>
      <span>Motherboard</span>
    </div>

    <div class="tool-item" draggable="true" data-component="Screen">
      <svg class="tool-icon" viewBox="0 0 24 24" aria-hidden="true"><g fill="none" stroke="#111" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="4" y="5" width="16" height="12" rx="2"/><path d="M8 21h8M12 17v4"/></g></svg>
      <span>Screen</span>
    </div>

    <div class="tool-item" draggable="true" data-component="Switch">
      <svg class="tool-icon" viewBox="0 0 24 24" aria-hidden="true"><g fill="none" stroke="#111" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="8" width="18" height="8" rx="4"/><circle cx="9" cy="12" r="3"/></g></svg>
      <span>Switch</span>
    </div>

    <div class="tool-item" draggable="true" data-component="LED">
      <svg class="tool-icon" viewBox="0 0 24 24" aria-hidden="true"><g fill="none" stroke="#111" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="10" r="3"/><path d="M12 13v6M9 19h6"/></g></svg>
      <span>LED</span>
    </div>

    <div class="tool-item" draggable="true" data-component="Sensor">
      <svg class="tool-icon" viewBox="0 0 24 24" aria-hidden="true"><g fill="none" stroke="#111" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="4" y="5" width="16" height="12" rx="2"/><path d="M8 9h8M8 13h8"/></g></svg>
      <span>Sensor</span>
    </div>

    <div class="tool-item" draggable="true" data-component="Splitter">
      <svg class="tool-icon" viewBox="0 0 24 24" aria-hidden="true"><g fill="none" stroke="#111" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14M12 12h6M12 12H6"/></g></svg>
      <span>Splitter</span>
    </div>

    <div class="tool-item" draggable="true" data-component="CableSpool">
      <svg class="tool-icon" viewBox="0 0 24 24" aria-hidden="true"><g fill="none" stroke="#111" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="8"/><circle cx="12" cy="12" r="2"/></g></svg>
      <span>Cable Spool</span>
    </div>
  </aside>

  <main class="canvas-wrap">
    <canvas id="grid-canvas" aria-hidden="true"></canvas>

    <div class="help-btn"><button id="btn-help">?</button></div>
    <div class="modal-backdrop" id="help-backdrop" role="dialog" aria-modal="true" aria-labelledby="help-title">
      <div class="modal">
        <h3 id="help-title">Help</h3>
        <ul>
          <li>Left-drag empty space: Pan</li>
          <li>Left-drag node: Move</li>
          <li>Wheel: Zoom</li>
          <li>Alt+Drag: Duplicate</li>
          <li>Delete: Remove</li>
          <li>Click an OUTPUT dot, then click a compatible INPUT dot to connect (Esc cancels)</li>
        </ul>
        <div style="text-align:right"><button id="btn-help-close">Close</button></div>
      </div>
    </div>

    <svg id="stage" aria-label="Wiring stage">
      <defs>
        <marker id="arrow" markerWidth="8" markerHeight="8" refX="8" refY="4" orient="auto-start-reverse">
          <path d="M0,0 L8,4 L0,8 z" fill="#94a3b8"></path>
        </marker>
      </defs>
      <g id="view">
        <g id="nodes"></g>
        <g id="cables"></g>        <!-- permanent lines -->
        <g id="drag-ghosts"></g>   <!-- the moving preview -->
      </g>
      
      

      
    </svg>

    <div class="hint">Click an OUTPUT · then click a compatible INPUT · Esc = cancel</div>
  </main>

  <aside class="inspector" aria-label="Inspector" tabindex="0">
    <h3>Properties</h3>
    <div id="inspector-content">Nothing selected.</div>
  </aside>
</div>

<script src="main.js"></script>
</body>
</html>
